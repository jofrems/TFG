(this["webpackJsonpclassroom--cities-game--2021"]=this["webpackJsonpclassroom--cities-game--2021"]||[]).push([[0],{200:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(30),i=n.n(a),o=n(23),s=n(9),u=function(){return Object(o.b)()},l=o.c,d=function(){return Object(r.useRef)(null)},j=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),c=1;c<t;c++)n[c-1]=arguments[c];var a=u();return Object(r.useCallback)((function(){var t=n.map((function(e){var t;return"string"===typeof e?e:null===(t=e.current)||void 0===t?void 0:t.value}));a(e.apply(void 0,Object(s.a)(t)))}),[a,e].concat(n))},p=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),c=1;c<t;c++)n[c-1]=arguments[c];var a=u();return Object(r.useCallback)((function(){var t=n.map((function(e){return e}));a(e.apply(void 0,Object(s.a)(t)))}),[a,e].concat(n))},b="widgetScreenStack/SCREEN_PUSHED",h="widgetScreenStack/SCREEN_POPPED";function f(e,t){return{type:b,screen:{name:e,id:t}}}function x(){return{type:h}}var O=n(0);function m(e){var t=e.name,n=e.id,c=e.children,a=u(),i=Object(r.useCallback)((function(){return a(f(t,n))}),[a,t,n]);return Object(O.jsx)("span",{role:"link",onClick:i,children:c})}function y(e){var t=e.createAction,n=e.children,c=u(),a=Object(r.useCallback)((function(){return c(t())}),[c,t]);return Object(O.jsx)("span",{role:"link",onClick:a,children:n})}function v(e){return e.widgetLoading>0}function g(){return l(v)?Object(O.jsx)("div",{"data-testid":"loading",children:"(Loading...)"}):null}var w=n(4),k={white:"#eee",lightgray:"#ddd",gray:"#888",success:"lightblue",danger:"#e58370"};var N={backgroundColor:"#888",padding:"1rem",display:"flex"};function S(e){var t=e.children,n=e.role,c=void 0===n?"":n,a=e.color,i=function(e,t){var n=e.color;return Object(r.useMemo)((function(){var e=Object(w.a)({},t);return e.backgroundColor=k[n],e}),[n,t])}({color:void 0===a?"gray":a},N);return Object(O.jsx)("div",{role:c,style:i,children:t})}function E(){return Object(O.jsx)("div",{style:{flex:1}})}var C="screenBlog/BLOG_PUSHED",P="screenBlog/BLOG_REPLACED";function L(){return{type:C}}function D(e){return{type:P,blog:e}}function A(){return Object(O.jsxs)(S,{children:[Object(O.jsx)(g,{}),"City Game!",Object(O.jsx)(E,{}),Object(O.jsx)(m,{name:"welcome",children:"Welcome"}),Object(O.jsx)("span",{children:"\xa0|\xa0"}),Object(O.jsx)(y,{createAction:L,children:"Blog"}),Object(O.jsx)(E,{}),Object(O.jsx)(m,{name:"login",children:"Login"}),Object(O.jsx)("span",{children:"\xa0|\xa0"}),Object(O.jsx)(m,{name:"addNextPlayer",children:"Multiplayer"})]})}var T="messageWidget/SHOWN",I="messageWidget/DISMISSED";function F(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:T,message:{text:e,isError:t}}}function _(e){return e.widgetMessage}function R(){var e=u(),t=Object(r.useCallback)((function(){return e({type:I})}),[e]),n=l(_);return n?Object(O.jsxs)(S,{role:"alert",color:n.isError?"danger":"success",children:[n.isError&&"\u26a0 "," ",n.text,Object(O.jsx)(E,{}),Object(O.jsx)("button",{onClick:t,children:"dismiss"})]}):null}var G="multiplayer/NEXT_PLAYER_ADDED",W="multiplayer/NEXT_PLAYER_CHANGED",M="multiplayer/NEXT_PLAYER_PUSHED";function B(e,t){return{type:G,form:{playerName:e,password:t}}}function Y(){return{type:W}}function H(e,t){return{type:M,player:{playerName:e,token:t}}}var J="game/CREATED",U="game/JOINED",X="game/PLAYED",z="game/REFRESHED",$="game/REPLACED",q="game/ROUND_ENDED";function K(e){return{type:J,form:{gameName:e}}}function Q(e,t){return{type:X,form:{gameName:e,creatorName:t}}}function V(e){return{type:$,game:e}}function Z(){return{type:z}}function ee(){return{type:q}}function te(e){return e.screenBlog}var ne="screenPost/POST_PUSHED",re="screenPost/POST_REPLACED";function ce(e){return{type:re,post:e}}function ae(e){var t=e.post,n=u(),c=Object(r.useCallback)((function(){var e;n((e=t.id,{type:ne,postId:e}))}),[n,t]),a=t.frontMatter,i=a.writer,o=a.coder;return Object(O.jsxs)("li",{onClick:c,style:{color:o?"inherit":"red"},children:[Object(O.jsxs)("code",{children:["[",t.id.slice(0,10),"]"]})," ",Object(O.jsx)("span",{role:"link",children:t.title}),Object(O.jsxs)("small",{children:[" by ",i]}),Object(O.jsxs)("small",{children:[", impl. ",o]})]})}function ie(e){var t;return null===(t=e.widgetScreenStack[e.widgetScreenStack.length-1])||void 0===t?void 0:t.name}function oe(e){var t;return null===(t=e.widgetScreenStack[e.widgetScreenStack.length-1])||void 0===t?void 0:t.id}var se=n(73);function ue(e){return e.game}function le(){return Object(se.a)(ue,(function(e){return Object.values(e.entities)}))}function de(e){return e.player}function je(e){var t;return null===(t=de(e))||void 0===t?void 0:t.token}function pe(e){var t;return null===(t=de(e))||void 0===t?void 0:t.playerName}function be(e){var t=e.color,n=void 0===t?"lightgray":t,r=l(de);return r?Object(O.jsxs)(S,{color:n,children:[Object(O.jsxs)("span",{"data-testid":"player-header",children:["Player ",r.playerName,"."]}),Object(O.jsx)(E,{}),Object(O.jsx)(y,{createAction:Y,children:"Next"})]}):null}function he(e){var t=e.createAction,n=e.children,c=u(),a=Object(r.useCallback)((function(){return c(t())}),[c,t]);return Object(O.jsx)("button",{onClick:a,children:n})}function fe(){var e="game"===l(ie),t=l(ue),n=t.gameName,r=t.creatorName,c=t.roundNumber,a=t.playerNameTurn;return Object(O.jsxs)(S,{color:"lightgray",children:[!e&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(y,{createAction:x,children:"\xab Back"}),"\xa0|\xa0"]})," ",Object(O.jsxs)("span",{"data-testid":"game-header",children:["Game ",n," created by ",r,", round ",c,", Turn of ",a]}),Object(O.jsx)(E,{}),Object(O.jsx)(he,{createAction:ee,children:"End Round"}),"\xa0",Object(O.jsx)(he,{createAction:Z,children:"Refresh"})]})}var xe="componentDice/ROLL";function Oe(e,t){return{type:xe,entityId:e,playerName:t}}var me=[function(e){var t=e.entity,n=l(pe);return t.owner!==n?null:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{children:" Elements: "}),Object(O.jsxs)("div",{children:["\u2003Roads: ",t.roads," \ud83d\udee4"]}),Object(O.jsxs)("div",{children:["\u2003Towns: ",t.towns," \ud83c\udfd8"]}),Object(O.jsxs)("div",{children:["\u2003Cities: ",t.cities," \ud83c\udfd9"]})]})},function(e){var t=e.entity,n=l(pe);return t.owner!==n?null:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{children:" Resources: "}),Object(O.jsxs)("div",{children:["\u2003Lumber: ",t.lumber," \ud83e\udeb5"]}),Object(O.jsxs)("div",{children:["\u2003Brick: ",t.brick," \ud83e\uddf1"]}),Object(O.jsxs)("div",{children:["\u2003Wool: ",t.wool," \ud83d\udc11"]}),Object(O.jsxs)("div",{children:["\u2003Grain: ",t.grain," \ud83c\udf3e"]}),Object(O.jsxs)("div",{children:["\u2003Ore: ",t.ore," \ud83e\udea8"]})]})},function(e){var t=e.entity,n=l(pe),r=p(Oe,t.id,n);return"dice"!==t.type?null:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{children:[" ",Object(O.jsx)("h4",{children:"Dices:"})," "]}),Object(O.jsxs)("div",{children:["\u2003Dice 1: ",t.dice1," \ud83c\udfb2"]}),Object(O.jsxs)("div",{children:["\u2003Dice 2: ",t.dice2," \ud83c\udfb2"]}),Object(O.jsx)("button",{onClick:r,children:"Roll"})]})}];function ye(e){var t=e.entity;return Object(O.jsx)(O.Fragment,{children:me.map((function(e,n){return Object(O.jsx)(e,{entity:t},n)}))})}function ve(e){var t=e.entity;return l(pe)!==t.owner||"inventory"!==t.type?null:Object(O.jsx)(ye,{entity:t})}function ge(e){var t=e.entities;return Object(O.jsx)("ul",{className:"list-group",children:t.map((function(e){return Object(O.jsx)(ve,{entity:e},e.id)}))})}var we,ke=n(10),Ne=n(11),Se=(n(88),Ne.a.polygon(we||(we=Object(ke.a)(["\ncursor: pointer;\nfill-opacity: 0.4;\nstroke: #000;\nstroke-width: 1;\ntransform-box: fill-box;\ntransform-origin: center;\ntransform: rotate(30deg);\n"]))));function Ee(e){var t=e.entity,n=[0,37,112,150,112,37],r=[75,10,10,75,140,140],c=66*t.row,a=129*t.column,i=113*t.row,o="".concat(n[0]+a+c+20,",").concat(r[0]+i," ").concat(n[1]+a+c+20,",").concat(r[1]+i," ").concat(n[2]+a+c+20,",").concat(r[2]+i," ").concat(n[3]+a+c+20,",").concat(r[3]+i," ").concat(n[4]+a+c+20,",").concat(r[4]+i," ").concat(n[5]+a+c+20,",").concat(r[5]+i),s=129*t.column+66*t.row,u="".concat(n[0]+s+85),l="".concat(r[0]+115*t.row),d="";switch(t.TileType){case-2:d="#663300";break;case-1:d="#0080FF";break;case 0:d="#006600";break;case 1:d="#FFFF33";break;case 2:d="#80FF00";break;case 3:d="#FF9933";break;case 4:d="#C0C0C0";break;default:d="#000000"}return Object(O.jsxs)("g",{id:"hex",children:[Object(O.jsx)(Se,{fill:d,points:o}),Object(O.jsxs)("text",{x:u,y:l,children:[" ",t.TileWeight]})]})}var Ce,Pe,Le="componentOwn/OWN";function De(e,t){return{type:Le,entityId:e,playerName:t}}var Ae,Te,Ie,Fe,_e=Ne.a.circle(Ce||(Ce=Object(ke.a)(["\ncursor: pointer;\n"]))),Re=Ne.a.rect(Pe||(Pe=Object(ke.a)(["\ncursor: pointer;\n"])));function Ge(e){var t=e.entity,n=l(pe),r=p(De,t.id,n);if("vertex"!==t.type)return null;var c=65*t.row+66,a=32*t.column;t.column>1&&(a+=45),t.column>3&&(a+=50),t.column>5&&(a+=50),t.column>7&&(a+=50),t.column>9&&(a+=50);var i=c+290,o=a+115,s=t.id,u="#";if(null!=t.owner){for(var d=0,j=0;j<t.owner.length;j++)d=t.owner.charCodeAt(j)+((d<<5)-d);for(j=0;j<3;j++){u+=("00"+(d>>8*j&255).toString(16)).substr(-2)}}else u="white";return t.upgraded?(i-=20,o-=20,Object(O.jsx)("g",{id:"vertex",children:Object(O.jsx)(Re,{id:s,x:i,y:o,width:"40",height:"40",stroke:"black","stroke-width":"3",fill:u,onClick:r})})):Object(O.jsx)("g",{id:"vertex",children:Object(O.jsx)(_e,{id:s,cx:i,cy:o,r:"20",stroke:"black","stroke-width":"3",strokeWidth:null!=t.owner?3:0,fill:null!=t.owner?u:"white",fillOpacity:null!=t.owner?1:0,onClick:r})})}var We=Ne.a.rect(Ae||(Ae=Object(ke.a)(["\ncursor: pointer;\ntransform-box: fill-box;\ntransform-origin: center;\n"]))),Me=Ne.a.rect(Te||(Te=Object(ke.a)(["\ncursor: pointer;\ntransform-box: fill-box;\ntransform-origin: center;\ntransform: rotate(30deg);\n"]))),Be=Ne.a.rect(Ie||(Ie=Object(ke.a)(["\ncursor: pointer;\ntransform-box: fill-box;\ntransform-origin: center;\ntransform: rotate(-30deg);\n\n"]))),Ye=Ne.a.rect(Fe||(Fe=Object(ke.a)(["\ncursor: pointer;\ntransform-box: fill-box;\ntransform-origin: center;\ntransform: rotate(90deg);\n"])));function He(e){var t=e.entity,n=l(pe),r=p(De,t.id,n);if("road"!==t.type)return null;var c=33*t.row+313,a=56*t.column+125,i=t.id,o="#";if(null!=t.owner){for(var s=0,u=0;u<t.owner.length;u++)s=t.owner.charCodeAt(u)+((s<<5)-s);for(u=0;u<3;u++){o+=("00"+(s>>8*u&255).toString(16)).substr(-2)}}else o="white";return 2===t.column||6===t.column||10===t.column?3===t.row||7===t.row||11===t.row||15===t.row||19===t.row?Object(O.jsx)("g",{id:"road",children:Object(O.jsx)(Be,{id:i,x:c,y:a,width:"80",height:"20",stroke:null!=t.owner?"black":"red",strokeWidth:null!=t.owner?3:0,fill:null!=t.owner?o:"white",fillOpacity:null!=t.owner?1:0,onClick:r})}):1===t.row||5===t.row||9===t.row||13===t.row||17===t.row?Object(O.jsx)("g",{id:"road",children:Object(O.jsx)(Me,{id:i,x:c,y:a,width:"80",height:"20",stroke:null!=t.owner?"black":"red",strokeWidth:null!=t.owner?3:0,fill:null!=t.owner?o:"white",fillOpacity:null!=t.owner?1:0,onClick:r})}):Object(O.jsx)("g",{id:"road",children:Object(O.jsx)(We,{id:i,x:c,y:a,width:"80",height:"20",stroke:null!=t.owner?"black":"red",strokeWidth:null!=t.owner?3:0,fill:null!=t.owner?o:"white",fillOpacity:null!=t.owner?1:0,onClick:r})}):0===t.column||4===t.column||8===t.column?3===t.row||7===t.row||11===t.row||15===t.row||19===t.row?Object(O.jsx)("g",{id:"road",children:Object(O.jsx)(Me,{id:i,x:c,y:a,width:"80",height:"20",stroke:null!=t.owner?"black":"red",strokeWidth:null!=t.owner?3:0,fill:null!=t.owner?o:"white",fillOpacity:null!=t.owner?1:0,onClick:r})}):1===t.row||5===t.row||9===t.row||13===t.row||17===t.row?Object(O.jsx)("g",{id:"road",children:Object(O.jsx)(Be,{id:i,x:c,y:a,width:"80",height:"20",stroke:null!=t.owner?"black":"red",strokeWidth:null!=t.owner?3:0,fill:null!=t.owner?o:"white",fillOpacity:null!=t.owner?1:0,onClick:r})}):Object(O.jsx)("g",{id:"road",children:Object(O.jsx)(We,{id:i,x:c,y:a,width:"80",height:"20",stroke:null!=t.owner?"black":"red",strokeWidth:null!=t.owner?3:0,fill:null!=t.owner?o:"white",fillOpacity:null!=t.owner?1:0,onClick:r})}):t.column%2===1?Object(O.jsx)("g",{id:"road",children:Object(O.jsx)(Ye,{id:i,x:c,y:a,width:"80",height:"20",stroke:null!=t.owner?"black":"red",strokeWidth:null!=t.owner?3:0,fill:null!=t.owner?o:"white",fillOpacity:null!=t.owner?1:0,onClick:r})}):Object(O.jsx)("g",{id:"road",children:Object(O.jsx)(We,{id:i,x:c,y:a,width:"80",height:"20",stroke:null!=t.owner?"black":"red",strokeWidth:null!=t.owner?3:0,fill:null!=t.owner?o:"white",fillOpacity:null!=t.owner?1:0,onClick:r})})}function Je(e){var t=e.entities;return Object(O.jsxs)("svg",{height:"475",width:"100%",viewBox:"0 0 1280 720",children:[t.map((function(e){return"tile"===e.type?Object(O.jsx)(Ee,{entity:e},e.id):Object(O.jsx)(O.Fragment,{})})),t.map((function(e){return"road"===e.type?Object(O.jsx)(He,{entity:e},e.id):"vertex"===e.type?Object(O.jsx)(Ge,{entity:e},e.id):Object(O.jsx)(O.Fragment,{})}))]})}function Ue(e){var t=e.entities;return Object(O.jsx)("div",{children:t.map((function(e){return"dice"===e.type?Object(O.jsx)(ye,{entity:e},e.id):Object(O.jsx)(O.Fragment,{})}))})}function Xe(e){return e.gamesList}function ze(e){var t=e.item,n=u(),c=Object(r.useCallback)((function(){return n((e=t.gameName,r=t.creatorName,{type:U,form:{gameName:e,creatorName:r}}));var e,r}),[n,t]),a=Object(r.useCallback)((function(){return n(Q(t.gameName,t.creatorName))}),[n,t]),i=l(pe),o=Object(r.useMemo)((function(){return t.joinedPlayerNames.includes(i)}),[t,i]);return Object(O.jsxs)("li",{children:["Game ",t.gameName," by ",t.creatorName,o&&" (joined) ",Object(O.jsx)("button",{onClick:c,children:"Join"}),Object(O.jsx)("button",{onClick:a,children:"Play"})]})}var $e="player/LOGGED_IN",qe="player/REPLACED",Ke="player/SIGNED_UP";function Qe(e,t){return{type:$e,form:{playerName:e,password:t}}}function Ve(e,t){return{type:qe,player:{playerName:e,token:t}}}function Ze(e,t){return{type:Ke,form:{playerName:e,password:t}}}var et="gamesList/GAMES_BY_CREATOR_LISTED",tt="gamesList/GAMES_BY_PLAYER_LISTED",nt="gamesList/GAMES_LIST_REPLACED",rt="gamesList/MY_CREATED_GAMES_LISTED",ct="gamesList/MY_PLAYING_GAMES_LISTED";function at(e){return{type:et,form:{playerName:e}}}function it(){return{type:tt}}function ot(){return{type:rt}}function st(){return{type:ct}}function ut(e){return{type:nt,gamesList:e}}function lt(){var e=d(),t=j(at,e);return Object(O.jsxs)("div",{children:[Object(O.jsxs)("label",{children:["Friend name:",Object(O.jsx)("br",{}),Object(O.jsx)("input",{ref:e})]}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{onClick:t,children:"Friend games"})]})}function dt(e){return e.screenPost}var jt=n(77),pt=n.n(jt);var bt={addNextPlayer:function(){var e=d(),t=d(),n=j(B,e,t),c=u(),a=Object(r.useCallback)((function(){return c(x())}),[c]);return Object(O.jsxs)("main",{children:[Object(O.jsx)("h1",{children:"Add next player!"}),Object(O.jsxs)("label",{children:["Next player name:",Object(O.jsx)("br",{}),Object(O.jsx)("input",{ref:e})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("label",{children:["Next player password:",Object(O.jsx)("br",{}),Object(O.jsx)("input",{ref:t,type:"password"})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{onClick:n,children:"Join Next"})," ",Object(O.jsx)("button",{onClick:a,children:"Cancel"})]})},blog:function(){var e=l(te);return Object(O.jsxs)("main",{children:[Object(O.jsxs)("h1",{children:["Blog! ",Object(O.jsxs)("small",{style:{fontSize:"0.7rem"},children:["(#",e.length,")"]})]}),Object(O.jsx)("ul",{children:e.map((function(e){return Object(O.jsx)(ae,{post:e},e.id)}))})]})},createGame:function(){var e=d(),t=j(K,e),n=u(),c=Object(r.useCallback)((function(){return n(x())}),[n]);return Object(O.jsxs)("main",{children:[Object(O.jsx)("h1",{children:"Create game!"}),Object(O.jsxs)("label",{children:["Game name:",Object(O.jsx)("br",{}),Object(O.jsx)("input",{ref:e})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{onClick:t,children:"Create game"})," ",Object(O.jsx)("button",{onClick:c,children:"Cancel"})]})},entity:function(){var e=l(oe),t=l((function(t){return function(e,t){var n,r=t.entityId;return null===(n=ue(e))||void 0===n?void 0:n.entities[r]}(t,{entityId:e})}));return t?Object(O.jsxs)("div",{children:[Object(O.jsx)(be,{}),Object(O.jsx)(fe,{}),Object(O.jsxs)("main",{children:[Object(O.jsxs)("h1",{children:[t.name," ",t.type," of ",t.owner]}),Object(O.jsx)(ye,{entity:t})]})]}):null},game:function(){var e=Object(r.useMemo)(le,[]),t=l(e);return console.log("entities"),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(be,{color:"white"}),Object(O.jsx)(fe,{}),Object(O.jsxs)("main",{children:[Object(O.jsx)("h1",{children:"Catan"}),Object(O.jsx)(Je,{entities:t}),Object(O.jsx)(Ue,{entities:t}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h4",{children:"Inventory:"}),Object(O.jsx)(ge,{entities:t})]})]})]})},gamesList:function(){var e=l(Xe),t=u(),n=Object(r.useCallback)((function(){return t(x())}),[t]);return Object(O.jsxs)("main",{children:[Object(O.jsx)("h1",{children:"Games List!"}),Object(O.jsx)("ul",{children:null===e||void 0===e?void 0:e.map((function(e){return Object(O.jsx)(ze,{item:e},e.gameName+"#"+e.creatorName)}))}),Object(O.jsx)("button",{onClick:n,children:"Cancel"})]})},login:function(){var e=d(),t=d(),n=j(Qe,e,t);return Object(O.jsxs)("main",{children:[Object(O.jsx)("h1",{children:"Log In!"}),Object(O.jsxs)("label",{children:["Player name:",Object(O.jsx)("br",{}),Object(O.jsx)("input",{ref:e})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("label",{children:["Password:",Object(O.jsx)("br",{}),Object(O.jsx)("input",{ref:t,type:"password"})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{onClick:n,children:"Login"})]})},player:function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)(be,{}),Object(O.jsxs)("main",{children:[Object(O.jsx)("h1",{children:"Welcome player!"}),Object(O.jsx)(m,{name:"createGame",children:"Create game"}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),"List games:",Object(O.jsx)("br",{}),Object(O.jsx)(y,{createAction:st,children:"- My playing games \xbb"}),Object(O.jsx)("br",{}),Object(O.jsx)(y,{createAction:ot,children:"- My created games \xbb"}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)(lt,{})]})]})},post:function(){var e=l(dt),t=e.body.split("\n").filter((function(e){return!e.includes("SNAPSHOT")})).join("\n");return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"content",children:Object(O.jsx)(y,{createAction:x,children:"\xab Back to blog"})}),Object(O.jsxs)("main",{children:[Object(O.jsxs)("h1",{children:[e.title,"!"]}),Object(O.jsx)(pt.a,{children:t})]})]})},signup:function(){var e=d(),t=d(),n=j(Ze,e,t);return Object(O.jsxs)("main",{children:[Object(O.jsx)("h1",{children:"Sign up!"}),Object(O.jsxs)("label",{children:["Player name:",Object(O.jsx)("br",{}),Object(O.jsx)("input",{ref:e})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("label",{children:["Password:",Object(O.jsx)("br",{}),Object(O.jsx)("input",{ref:t,type:"password",autoComplete:"current-password"})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{onClick:n,children:"Signup"})]})},welcome:function(){return Object(O.jsxs)("main",{children:[Object(O.jsx)("h1",{children:"Welcome to the game!"}),Object(O.jsx)(m,{name:"signup",children:"Sign up"})]})}};function ht(){var e=l(ie),t=bt[e];return t?Object(O.jsx)(t,{}):Object(O.jsxs)(O.Fragment,{children:['`Screen "$',e,'" not found.`']})}function ft(e){var t=e.store;return Object(O.jsx)(o.a,{store:t,children:Object(O.jsxs)("div",{children:[Object(O.jsx)(A,{}),Object(O.jsx)(R,{}),Object(O.jsx)(ht,{})]})})}var xt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,201)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},Ot=n(19),mt=n(78);var yt={componentOwn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type,e},componentDice:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type,e}},vt="widgetLoading/STARTED",gt="widgetLoading/FINISHED";var wt=[{name:"welcome"}];var kt={widgetLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vt:return e+1;case gt:return e-1;default:return e}},widgetMessage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return t.message;case I:return null;default:return e}},widgetScreenStack:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return[].concat(Object(s.a)(e),[t.screen]);case h:return e.slice(0,e.length-1);default:return e}}},Nt=[];var St={screenBlog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return t.blog;default:return e}},screenPost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return t.post;default:return e}}};var Et={currentPlayerIndex:0,players:[]};function Ct(e,t){return Object(w.a)(Object(w.a)({},e),{},{currentPlayerIndex:(e.currentPlayerIndex+1)%e.players.length})}function Pt(e,t){var n=e.players,r=Object(s.a)(n);return n.some((function(e){return e.playerName===t.player.playerName}))||r.push(t.player),Object(w.a)(Object(w.a)({},e),{},{players:r,currentPlayerIndex:r.length-1})}var Lt=Object(Ot.combineReducers)(Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)({},yt),kt),St),{},{game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return t.game;default:return e}},gamesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nt:return t.gamesList;default:return e}},multiplayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Ct(e,t);case M:return Pt(e,t);default:return e}},player:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe:return t.player;default:return e}}})),Dt=n(79),At=n(2),Tt=n.n(At),It=n(3);function Ft(e,t,n){return _t.apply(this,arguments)}function _t(){return(_t=Object(It.a)(Tt.a.mark((function e(t,n,r){var c,a,i;return Tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(w.a)(Object(w.a)({},n),{},{body:JSON.stringify(null===n||void 0===n?void 0:n.body),headers:{"Content-Type":"application/json"}}),e.next=3,fetch(t,c);case 3:return a=e.sent,e.next=6,a.json();case 6:return"string"===typeof(i=e.sent).message&&r(F(i.message,i.isError)),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rt(){return{type:vt}}function Gt(){return{type:gt}}function Wt(e,t,n){return Mt.apply(this,arguments)}function Mt(){return(Mt=Object(It.a)(Tt.a.mark((function e(t,n,r){var c,a,i,o=arguments;return Tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=o.length>3&&void 0!==o[3]?o[3]:function(){},t.dispatch(Rt()),a=je(t.getState()),e.next=5,Ft("".concat(n,"?token=").concat(a),{method:"POST",body:r},t.dispatch);case 5:return i=e.sent,t.dispatch(V(i)),e.next=9,c(i);case 9:t.dispatch(Gt());case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Bt=[function(e){return function(t){return function(){var n=Object(It.a)(Tt.a.mark((function n(r){return Tt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t(r),console.log("reach middleware + action: "+r.type),r.type!==Le){n.next=5;break}return n.next=5,Wt(e,"/api/v1/owned/".concat(r.entityId,"/").concat(r.playerName,"/own"),{});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},function(e){return function(t){return function(){var n=Object(It.a)(Tt.a.mark((function n(r){return Tt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t(r),console.log("reach middleware + action: "+r.type),r.type!==xe){n.next=5;break}return n.next=5,Wt(e,"/api/v1/dice/".concat(r.entityId,"/").concat(r.playerName,"/roll"),{});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}];function Yt(e){return Ht.apply(this,arguments)}function Ht(){return(Ht=Object(It.a)(Tt.a.mark((function e(t){var n,r;return Tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch(Rt()),e.next=3,fetch("/api/v1/posts");case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,t.dispatch(D(r.posts)),t.dispatch(f("blog")),t.dispatch(Gt());case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jt(e,t){return Ut.apply(this,arguments)}function Ut(){return(Ut=Object(It.a)(Tt.a.mark((function e(t,n){var r,c;return Tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch(Rt()),e.next=3,fetch("/api/v1/posts/"+n.postId);case 3:return r=e.sent,e.next=6,r.json();case 6:c=e.sent,t.dispatch(ce(c)),t.dispatch(f("post")),t.dispatch(Gt());case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xt=[function(e){return function(t){return function(){var n=Object(It.a)(Tt.a.mark((function n(r){return Tt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t(r),r.type!==C){n.next=4;break}return n.next=4,Yt(e);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},function(e){return function(t){return function(){var n=Object(It.a)(Tt.a.mark((function n(r){return Tt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t(r),r.type!==ne){n.next=4;break}return n.next=4,Jt(e,r);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}];function zt(e,t){return $t.apply(this,arguments)}function $t(){return($t=Object(It.a)(Tt.a.mark((function e(t,n){var r;return Tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch(Rt()),r=je(t.getState()),e.next=4,Ft("/api/v1/games",{method:"POST",body:Object(w.a)(Object(w.a)({},n.form),{},{token:r})},t.dispatch);case 4:e.sent.isError||t.dispatch(f("player")),t.dispatch(Gt());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qt(e,t){return Kt.apply(this,arguments)}function Kt(){return(Kt=Object(It.a)(Tt.a.mark((function e(t,n){var r;return Tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch(Rt()),r=je(t.getState()),e.next=4,Ft("/api/v1/games/join",{method:"POST",body:Object(w.a)(Object(w.a)({},n.form),{},{token:r})},t.dispatch);case 4:e.sent.isError||t.dispatch(f("player")),t.dispatch(Gt());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qt(e,t){return Vt.apply(this,arguments)}function Vt(){return(Vt=Object(It.a)(Tt.a.mark((function e(t,n){var r,c;return Tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch(Rt()),r=je(t.getState()),e.next=4,Ft("/api/v1/games/".concat(n.form.gameName,"/by/").concat(n.form.creatorName,"?token=").concat(r),{method:"GET"},t.dispatch);case 4:(c=e.sent).isError||(t.dispatch(V(c)),t.dispatch(f("game"))),t.dispatch(Gt());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zt(e,t){return en.apply(this,arguments)}function en(){return(en=Object(It.a)(Tt.a.mark((function e(t,n){var r,c,a,i,o;return Tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ue(t.getState()),c=r.gameName,a=r.creatorName,t.dispatch(Rt()),i=je(t.getState()),e.next=5,Ft("/api/v1/games/".concat(c,"/by/").concat(a,"?token=").concat(i),{method:"GET"},t.dispatch);case 5:o=e.sent,t.dispatch(V(o)),t.dispatch(Gt());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tn(e,t){return nn.apply(this,arguments)}function nn(){return(nn=Object(It.a)(Tt.a.mark((function e(t,n){var r;return Tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.game,t.dispatch(Ve(r.playerName,r.token));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rn(e){return cn.apply(this,arguments)}function cn(){return(cn=Object(It.a)(Tt.a.mark((function e(t){var n,r,c;return Tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ue(t.getState()),r=n.gameName,c=n.creatorName,e.next=3,Wt(t,"/api/v1/games/".concat(r,"/by/").concat(c,"/endRound"),{},(function(){return t.dispatch(f("game"))}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function an(e){return on.apply(this,arguments)}function on(){return(on=Object(It.a)(Tt.a.mark((function e(t){var n;return Tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=pe(t.getState()),t.dispatch(at(n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sn(e){return un.apply(this,arguments)}function un(){return(un=Object(It.a)(Tt.a.mark((function e(t){return Tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.dispatch(it());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ln(e,t){return dn.apply(this,arguments)}function dn(){return(dn=Object(It.a)(Tt.a.mark((function e(t,n){var r;return Tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch(Rt()),e.next=3,Ft("/api/v1/games/byPlayer",{method:"POST",body:n.form},t.dispatch);case 3:(r=e.sent).isError||(t.dispatch(ut(r.games)),t.dispatch(f("gamesList"))),t.dispatch(Gt());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jn(e,t){return pn.apply(this,arguments)}function pn(){return(pn=Object(It.a)(Tt.a.mark((function e(t,n){var r,c;return Tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch(Rt()),r=je(t.getState()),e.next=4,Ft("/api/v1/games/byJoined",{method:"POST",body:{token:r}},t.dispatch);case 4:c=e.sent,t.dispatch(ut(c.games)),t.dispatch(f("gamesList")),t.dispatch(Gt());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bn(e){var t=e.multiplayer;return t.players[t.currentPlayerIndex]}function hn(e,t){return fn.apply(this,arguments)}function fn(){return(fn=Object(It.a)(Tt.a.mark((function e(t,n){var r,c,a,i,o,s;return Tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch(Rt()),r=t.getState(),c=je(r),a=ue(r),i=a.gameName,o=a.creatorName,e.next=6,Ft("/api/v1/games/joinNext?token=".concat(c),{method:"POST",body:Object(w.a)(Object(w.a)({},n.form),{},{gameName:i,creatorName:o})},t.dispatch);case 6:(s=e.sent).isError||(t.dispatch(H(o,c)),t.dispatch(H(s.playerName,s.token)),t.dispatch(V(s)),t.dispatch(f("game"))),t.dispatch(Gt());case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xn(e,t){return On.apply(this,arguments)}function On(){return(On=Object(It.a)(Tt.a.mark((function e(t,n){var r,c,a,i,o,s,u;return Tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.getState(),c=bn(r)){e.next=5;break}return t.dispatch(Z()),e.abrupt("return");case 5:a=c.playerName,i=c.token,o=ue(r),s=o.gameName,u=o.creatorName,t.dispatch(Ve(a,i)),t.dispatch(Q(s,u));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mn(e,t){return yn.apply(this,arguments)}function yn(){return(yn=Object(It.a)(Tt.a.mark((function e(t,n){var r;return Tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch(Rt()),e.next=3,Ft("/api/v1/players/login",{method:"POST",body:n.form},t.dispatch);case 3:(r=e.sent).isError||(t.dispatch(f("player")),t.dispatch(Ve(r.playerName,r.token))),t.dispatch(Gt());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vn(e,t){return gn.apply(this,arguments)}function gn(){return(gn=Object(It.a)(Tt.a.mark((function e(t,n){return Tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch(Rt()),e.next=3,Ft("/api/v1/players",{method:"POST",body:n.form},t.dispatch);case 3:e.sent.isError||t.dispatch(f("welcome")),t.dispatch(Gt());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wn=[Dt.a].concat(Object(s.a)(Bt),Object(s.a)(Xt),[function(e){return function(t){return function(){var n=Object(It.a)(Tt.a.mark((function n(r){return Tt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t(r),r.type!==J){n.next=4;break}return n.next=4,zt(e,r);case 4:if(r.type!==U){n.next=7;break}return n.next=7,qt(e,r);case 7:if(r.type!==X){n.next=10;break}return n.next=10,Qt(e,r);case 10:if(r.type!==z){n.next=13;break}return n.next=13,Zt(e,r);case 13:if(r.type!==$){n.next=16;break}return n.next=16,tn(e,r);case 16:if(r.type!==q){n.next=19;break}return n.next=19,rn(e);case 19:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},function(e){return function(t){return function(){var n=Object(It.a)(Tt.a.mark((function n(r){return Tt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t(r),r.type!==et){n.next=4;break}return n.next=4,ln(e,r);case 4:if(r.type!==tt){n.next=7;break}return n.next=7,jn(e,r);case 7:if(r.type!==rt){n.next=10;break}return n.next=10,an(e);case 10:if(r.type!==ct){n.next=13;break}return n.next=13,sn(e);case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},function(e){return function(t){return function(){var n=Object(It.a)(Tt.a.mark((function n(r){return Tt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t(r),r.type!==G){n.next=4;break}return n.next=4,hn(e,r);case 4:if(r.type!==W){n.next=7;break}return n.next=7,xn(e,r);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},function(e){return function(t){return function(){var n=Object(It.a)(Tt.a.mark((function n(r){return Tt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t(r),r.type!==$e){n.next=4;break}return n.next=4,mn(e,r);case 4:if(r.type!==Ke){n.next=7;break}return n.next=7,vn(e,r);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}]),kn=new WeakSet;function Nn(e){return kn.has(e)||(Object.keys(e).forEach((function(t){var n=e[t];n&&"object"===typeof n&&(e[t]=Nn(n))})),Object.freeze(e),kn.add(e)),e}function Sn(e){return function(t,n){return Nn(e(t,n))}}var En=Object(Ot.createStore)(Sn(Lt),Object(mt.composeWithDevTools)(Ot.applyMiddleware.apply(void 0,Object(s.a)(wn))));i.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(ft,{store:En})}),document.getElementById("root")),xt()},88:function(e,t,n){}},[[200,1,2]]]);
//# sourceMappingURL=main.f3827e82.chunk.js.map