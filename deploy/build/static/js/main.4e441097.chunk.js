(this["webpackJsonpclassroom--cities-game--2021"]=this["webpackJsonpclassroom--cities-game--2021"]||[]).push([[0],{206:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(34),i=n.n(a),o=n(27),s=n(9),u=function(){return Object(o.b)()},l=o.c,d=function(){return Object(r.useRef)(null)},j=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),c=1;c<t;c++)n[c-1]=arguments[c];var a=u();return Object(r.useCallback)((function(){var t=n.map((function(e){var t;return"string"===typeof e?e:null===(t=e.current)||void 0===t?void 0:t.value}));a(e.apply(void 0,Object(s.a)(t)))}),[a,e].concat(n))},p=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),c=1;c<t;c++)n[c-1]=arguments[c];var a=u();return Object(r.useCallback)((function(){var t=n.map((function(e){return e}));a(e.apply(void 0,Object(s.a)(t)))}),[a,e].concat(n))},b="widgetScreenStack/SCREEN_PUSHED",h="widgetScreenStack/SCREEN_POPPED";function f(e,t){return{type:b,screen:{name:e,id:t}}}function x(){return{type:h}}var O=n(0);function m(e){var t=e.name,n=e.id,c=e.children,a=u(),i=Object(r.useCallback)((function(){return a(f(t,n))}),[a,t,n]);return Object(O.jsx)("span",{role:"link",onClick:i,children:c})}function y(e){var t=e.createAction,n=e.children,c=u(),a=Object(r.useCallback)((function(){return c(t())}),[c,t]);return Object(O.jsx)("span",{role:"link",onClick:a,children:n})}function v(e){return e.widgetLoading>0}function g(){return l(v)?Object(O.jsx)("div",{"data-testid":"loading",children:"(Loading...)"}):null}var w=n(4),k={white:"#eee",lightgray:"#ddd",gray:"#888",success:"lightblue",danger:"#e58370"};var C={backgroundColor:"#888",padding:"1rem",display:"flex"};function E(e){var t=e.children,n=e.role,c=void 0===n?"":n,a=e.color,i=function(e,t){var n=e.color;return Object(r.useMemo)((function(){var e=Object(w.a)({},t);return e.backgroundColor=k[n],e}),[n,t])}({color:void 0===a?"gray":a},C);return Object(O.jsx)("div",{role:c,style:i,children:t})}function N(){return Object(O.jsx)("div",{style:{flex:1}})}var S="screenBlog/BLOG_PUSHED",P="screenBlog/BLOG_REPLACED";function L(){return{type:S}}function T(e){return{type:P,blog:e}}function A(){return Object(O.jsxs)(E,{children:[Object(O.jsx)(g,{}),"Els Colonitzadors de l'Illa",Object(O.jsx)(N,{}),Object(O.jsx)(m,{name:"welcome",children:"Welcome"}),Object(O.jsx)("span",{children:"\xa0|\xa0"}),Object(O.jsx)(y,{createAction:L,children:"Blog"}),Object(O.jsx)(N,{}),Object(O.jsx)(m,{name:"login",children:"Login"}),Object(O.jsx)("span",{children:"\xa0|\xa0"}),Object(O.jsx)(m,{name:"addNextPlayer",children:"Multiplayer"})]})}var D="messageWidget/SHOWN",R="messageWidget/DISMISSED";function F(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:D,message:{text:e,isError:t}}}function I(e){return e.widgetMessage}function _(){var e=u(),t=Object(r.useCallback)((function(){return e({type:R})}),[e]),n=l(I);return n?Object(O.jsxs)(E,{role:"alert",color:n.isError?"danger":"success",children:[n.isError&&"\u26a0 "," ",n.text,Object(O.jsx)(N,{}),Object(O.jsx)("button",{onClick:t,children:"dismiss"})]}):null}var G="multiplayer/NEXT_PLAYER_ADDED",W="multiplayer/NEXT_PLAYER_CHANGED",M="multiplayer/NEXT_PLAYER_PUSHED";function B(e,t){return{type:G,form:{playerName:e,password:t}}}function Y(){return{type:W}}function H(e,t){return{type:M,player:{playerName:e,token:t}}}var J="game/CREATED",U="game/JOINED",z="game/PLAYED",X="game/REFRESHED",$="game/REPLACED",q="game/ROUND_ENDED";function K(e){return{type:J,form:{gameName:e}}}function Q(e,t){return{type:z,form:{gameName:e,creatorName:t}}}function V(e){return{type:$,game:e}}function Z(){return{type:X}}function ee(){return{type:q}}function te(e){return e.screenBlog}var ne="screenPost/POST_PUSHED",re="screenPost/POST_REPLACED";function ce(e){return{type:re,post:e}}function ae(e){var t=e.post,n=u(),c=Object(r.useCallback)((function(){var e;n((e=t.id,{type:ne,postId:e}))}),[n,t]),a=t.frontMatter,i=a.writer,o=a.coder;return Object(O.jsxs)("li",{onClick:c,style:{color:o?"inherit":"red"},children:[Object(O.jsxs)("code",{children:["[",t.id.slice(0,10),"]"]})," ",Object(O.jsx)("span",{role:"link",children:t.title}),Object(O.jsxs)("small",{children:[" by ",i]}),Object(O.jsxs)("small",{children:[", impl. ",o]})]})}function ie(e){var t;return null===(t=e.widgetScreenStack[e.widgetScreenStack.length-1])||void 0===t?void 0:t.name}function oe(e){var t;return null===(t=e.widgetScreenStack[e.widgetScreenStack.length-1])||void 0===t?void 0:t.id}var se=n(78);function ue(e){return e.game}function le(){return Object(se.a)(ue,(function(e){return Object.values(e.entities)}))}function de(e){return e.player}function je(e){var t;return null===(t=de(e))||void 0===t?void 0:t.token}function pe(e){var t;return null===(t=de(e))||void 0===t?void 0:t.playerName}function be(e){var t=e.color,n=void 0===t?"lightgray":t,r=l(de);return r?Object(O.jsxs)(E,{color:n,children:[Object(O.jsxs)("span",{"data-testid":"player-header",children:["Player ",r.playerName,"."]}),Object(O.jsx)(N,{}),Object(O.jsx)(y,{createAction:Y,children:"Next"})]}):null}function he(e){var t=e.createAction,n=e.children,c=u(),a=Object(r.useCallback)((function(){return c(t())}),[c,t]);return Object(O.jsx)("button",{onClick:a,children:n})}function fe(){var e="game"===l(ie),t=l(ue),n=t.gameName,r=t.creatorName,c=t.roundNumber,a=t.playerNameTurn;return console.log("ronda: "+c+" ,torn: "+a),Object(O.jsxs)(E,{color:"lightgray",children:[!e&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(y,{createAction:x,children:"\xab Back"}),"\xa0|\xa0"]})," ",Object(O.jsxs)("span",{"data-testid":"game-header",children:["Game ",n," created by ",r,", round ",c,", Turn of ",a]}),Object(O.jsx)(N,{}),Object(O.jsx)(he,{createAction:ee,children:"End Round"}),"\xa0",Object(O.jsx)(he,{createAction:Z,children:"Refresh"})]})}var xe="componentDice/ROLL";function Oe(e,t){return{type:xe,entityId:e,playerName:t}}var me="componentTrade/TRADE";function ye(e,t,n){return{type:me,entityId:e,form:{givenResources:t,getResources:n}}}var ve=[function(e){var t=e.entity,n=l(pe);return t.owner!==n||"inventory"!==t.type?null:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{children:" Elements: "}),Object(O.jsxs)("div",{children:["\u2003Roads: ",t.roads," \ud83d\udee4"]}),Object(O.jsxs)("div",{children:["\u2003Towns: ",t.towns," \ud83c\udfd8"]}),Object(O.jsxs)("div",{children:["\u2003Cities: ",t.cities," \ud83c\udfd9"]})]})},function(e){var t=e.entity,n=l(pe);return t.owner!==n||"inventory"!==t.type?null:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{children:" Resources: "}),Object(O.jsxs)("div",{children:["\u2003Lumber: ",t.lumber," \ud83e\udeb5"]}),Object(O.jsxs)("div",{children:["\u2003Brick: ",t.brick," \ud83e\uddf1"]}),Object(O.jsxs)("div",{children:["\u2003Wool: ",t.wool," \ud83d\udc11"]}),Object(O.jsxs)("div",{children:["\u2003Grain: ",t.grain," \ud83c\udf3e"]}),Object(O.jsxs)("div",{children:["\u2003Ore: ",t.ore," \ud83e\udea8"]})]})},function(e){var t=e.entity,n=l(pe),r=p(Oe,t.id,n);return"dice"!==t.type?null:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{children:[" ",Object(O.jsx)("h4",{children:"Dices:"})," "]}),Object(O.jsxs)("div",{children:["\u2003Dice 1: ",t.dice1," \ud83c\udfb2"]}),Object(O.jsxs)("div",{children:["\u2003Dice 2: ",t.dice2," \ud83c\udfb2"]}),Object(O.jsx)("button",{onClick:r,children:"Roll"})]})},function(e){var t=e.entity,n=l(pe);return t.owner!==n||"score"!==t.type?null:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{children:[" ",Object(O.jsx)("h4",{children:"Score:"})," "]}),Object(O.jsxs)("div",{children:["\u2003Points: ",t.points]})]})},function(e){var t=e.entity,n=l(pe),r=d(),c=d(),a=j(ye,t.id,r,c);return t.owner!==n||"inventory"!==t.type?null:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{children:" Trades:"}),Object(O.jsxs)("div",{children:["\u2003",Object(O.jsxs)("label",{children:["Give 4 Resource of type:",Object(O.jsx)("input",{type:"string",ref:r})]}),Object(O.jsxs)("label",{children:["Get 1 Resource of type:",Object(O.jsx)("input",{type:"string",ref:c})]})]}),Object(O.jsx)("button",{onClick:a,children:"Trade"})]})}];function ge(e){var t=e.entity;return Object(O.jsx)(O.Fragment,{children:ve.map((function(e,n){return Object(O.jsx)(e,{entity:t},n)}))})}function we(e){var t=e.entity;return l(pe)!==t.owner||"inventory"!==t.type?null:Object(O.jsx)(ge,{entity:t})}function ke(e){var t=e.entities;return Object(O.jsx)("ul",{className:"list-group",children:t.map((function(e){return Object(O.jsx)(we,{entity:e},e.id)}))})}var Ce,Ee=n(10),Ne=n(11),Se=(n(93),Ne.a.polygon(Ce||(Ce=Object(Ee.a)(["\ncursor: pointer;\nfill-opacity: 0.4;\nstroke: #000;\nstroke-width: 1;\ntransform-box: fill-box;\ntransform-origin: center;\ntransform: rotate(30deg);\n"]))));function Pe(e){var t=e.entity,n=[0,37,112,150,112,37],r=[75,10,10,75,140,140],c=66*t.row,a=129*t.column,i=113*t.row,o="".concat(n[0]+a+c+20,",").concat(r[0]+i," ").concat(n[1]+a+c+20,",").concat(r[1]+i," ").concat(n[2]+a+c+20,",").concat(r[2]+i," ").concat(n[3]+a+c+20,",").concat(r[3]+i," ").concat(n[4]+a+c+20,",").concat(r[4]+i," ").concat(n[5]+a+c+20,",").concat(r[5]+i),s=129*t.column+66*t.row,u="".concat(n[0]+s+85),l="".concat(r[0]+115*t.row),d="";switch(t.TileType){case-2:d="#663300";break;case-1:d="#0080FF";break;case 0:d="#006600";break;case 1:d="#FFFF33";break;case 2:d="#80FF00";break;case 3:d="#FF9933";break;case 4:d="#C0C0C0";break;default:d="#000000"}return Object(O.jsxs)("g",{id:"hex",children:[Object(O.jsx)(Se,{fill:d,points:o}),Object(O.jsxs)("text",{x:u,y:l,children:[" ",t.TileWeight]})]})}var Le,Te,Ae="componentOwn/OWN";function De(e,t){return{type:Ae,entityId:e,playerName:t}}var Re,Fe,Ie,_e,Ge=Ne.a.circle(Le||(Le=Object(Ee.a)(["\ncursor: pointer;\n"]))),We=Ne.a.rect(Te||(Te=Object(Ee.a)(["\ncursor: pointer;\n"])));function Me(e){var t=e.entity,n=l(pe),r=p(De,t.id,n);if("vertex"!==t.type)return null;var c=65*t.row+66,a=32*t.column;t.column>1&&(a+=45),t.column>3&&(a+=50),t.column>5&&(a+=50),t.column>7&&(a+=50),t.column>9&&(a+=50);var i=c+290,o=a+115,s=t.id,u="#";if(null!=t.owner){for(var d=0,j=0;j<t.owner.length;j++)d=t.owner.charCodeAt(j)+((d<<5)-d);for(j=0;j<3;j++){u+=("00"+(d>>8*j&255).toString(16)).substr(-2)}}else u="white";return t.upgraded?(i-=20,o-=20,Object(O.jsx)("g",{id:"vertex",children:Object(O.jsx)(We,{id:s,x:i,y:o,width:"40",height:"40",stroke:"black","stroke-width":"3",fill:u,onClick:r})})):Object(O.jsx)("g",{id:"vertex",children:Object(O.jsx)(Ge,{id:s,cx:i,cy:o,r:"20",stroke:"black","stroke-width":"3",strokeWidth:null!=t.owner?3:0,fill:null!=t.owner?u:"white",fillOpacity:null!=t.owner?1:0,onClick:r})})}var Be=Ne.a.rect(Re||(Re=Object(Ee.a)(["\ncursor: pointer;\ntransform-box: fill-box;\ntransform-origin: center;\n"]))),Ye=Ne.a.rect(Fe||(Fe=Object(Ee.a)(["\ncursor: pointer;\ntransform-box: fill-box;\ntransform-origin: center;\ntransform: rotate(30deg);\n"]))),He=Ne.a.rect(Ie||(Ie=Object(Ee.a)(["\ncursor: pointer;\ntransform-box: fill-box;\ntransform-origin: center;\ntransform: rotate(-30deg);\n\n"]))),Je=Ne.a.rect(_e||(_e=Object(Ee.a)(["\ncursor: pointer;\ntransform-box: fill-box;\ntransform-origin: center;\ntransform: rotate(90deg);\n"])));function Ue(e){var t=e.entity,n=l(pe),r=p(De,t.id,n);if("road"!==t.type)return null;var c=33*t.row+313,a=56*t.column+125,i=t.id,o="#";if(null!=t.owner){for(var s=0,u=0;u<t.owner.length;u++)s=t.owner.charCodeAt(u)+((s<<5)-s);for(u=0;u<3;u++){o+=("00"+(s>>8*u&255).toString(16)).substr(-2)}}else o="white";return 2===t.column||6===t.column||10===t.column?3===t.row||7===t.row||11===t.row||15===t.row||19===t.row?Object(O.jsx)("g",{id:"road",children:Object(O.jsx)(He,{id:i,x:c,y:a,width:"80",height:"20",stroke:null!=t.owner?"black":"red",strokeWidth:null!=t.owner?3:0,fill:null!=t.owner?o:"white",fillOpacity:null!=t.owner?1:0,onClick:r})}):1===t.row||5===t.row||9===t.row||13===t.row||17===t.row?Object(O.jsx)("g",{id:"road",children:Object(O.jsx)(Ye,{id:i,x:c,y:a,width:"80",height:"20",stroke:null!=t.owner?"black":"red",strokeWidth:null!=t.owner?3:0,fill:null!=t.owner?o:"white",fillOpacity:null!=t.owner?1:0,onClick:r})}):Object(O.jsx)("g",{id:"road",children:Object(O.jsx)(Be,{id:i,x:c,y:a,width:"80",height:"20",stroke:null!=t.owner?"black":"red",strokeWidth:null!=t.owner?3:0,fill:null!=t.owner?o:"white",fillOpacity:null!=t.owner?1:0,onClick:r})}):0===t.column||4===t.column||8===t.column?3===t.row||7===t.row||11===t.row||15===t.row||19===t.row?Object(O.jsx)("g",{id:"road",children:Object(O.jsx)(Ye,{id:i,x:c,y:a,width:"80",height:"20",stroke:null!=t.owner?"black":"red",strokeWidth:null!=t.owner?3:0,fill:null!=t.owner?o:"white",fillOpacity:null!=t.owner?1:0,onClick:r})}):1===t.row||5===t.row||9===t.row||13===t.row||17===t.row?Object(O.jsx)("g",{id:"road",children:Object(O.jsx)(He,{id:i,x:c,y:a,width:"80",height:"20",stroke:null!=t.owner?"black":"red",strokeWidth:null!=t.owner?3:0,fill:null!=t.owner?o:"white",fillOpacity:null!=t.owner?1:0,onClick:r})}):Object(O.jsx)("g",{id:"road",children:Object(O.jsx)(Be,{id:i,x:c,y:a,width:"80",height:"20",stroke:null!=t.owner?"black":"red",strokeWidth:null!=t.owner?3:0,fill:null!=t.owner?o:"white",fillOpacity:null!=t.owner?1:0,onClick:r})}):t.column%2===1?Object(O.jsx)("g",{id:"road",children:Object(O.jsx)(Je,{id:i,x:c,y:a,width:"80",height:"20",stroke:null!=t.owner?"black":"red",strokeWidth:null!=t.owner?3:0,fill:null!=t.owner?o:"white",fillOpacity:null!=t.owner?1:0,onClick:r})}):Object(O.jsx)("g",{id:"road",children:Object(O.jsx)(Be,{id:i,x:c,y:a,width:"80",height:"20",stroke:null!=t.owner?"black":"red",strokeWidth:null!=t.owner?3:0,fill:null!=t.owner?o:"white",fillOpacity:null!=t.owner?1:0,onClick:r})})}function ze(e){var t=e.entities;return Object(O.jsxs)("svg",{height:"475",width:"100%",viewBox:"0 0 1280 720",children:[t.map((function(e){return"tile"===e.type?Object(O.jsx)(Pe,{entity:e},e.id):Object(O.jsx)(O.Fragment,{})})),t.map((function(e){return"road"===e.type?Object(O.jsx)(Ue,{entity:e},e.id):"vertex"===e.type?Object(O.jsx)(Me,{entity:e},e.id):Object(O.jsx)(O.Fragment,{})}))]})}function Xe(e){var t=e.entities;return Object(O.jsx)("div",{children:t.map((function(e){return"dice"===e.type?Object(O.jsx)(ge,{entity:e},e.id):Object(O.jsx)(O.Fragment,{})}))})}function $e(e){var t=e.entities;return Object(O.jsx)("div",{children:t.map((function(e){return"score"===e.type?Object(O.jsx)(ge,{entity:e},e.id):Object(O.jsx)(O.Fragment,{})}))})}var qe=n(208),Ke=n(209),Qe=n(210);function Ve(e){return e.gamesList}function Ze(e){var t=e.item,n=u(),c=Object(r.useCallback)((function(){return n((e=t.gameName,r=t.creatorName,{type:U,form:{gameName:e,creatorName:r}}));var e,r}),[n,t]),a=Object(r.useCallback)((function(){return n(Q(t.gameName,t.creatorName))}),[n,t]),i=l(pe),o=Object(r.useMemo)((function(){return t.joinedPlayerNames.includes(i)}),[t,i]);return Object(O.jsxs)("li",{children:["Game ",t.gameName," by ",t.creatorName,o&&" (joined) ",Object(O.jsx)("button",{onClick:c,children:"Join"}),Object(O.jsx)("button",{onClick:a,children:"Play"})]})}var et="player/LOGGED_IN",tt="player/REPLACED",nt="player/SIGNED_UP";function rt(e,t){return{type:et,form:{playerName:e,password:t}}}function ct(e,t){return{type:tt,player:{playerName:e,token:t}}}function at(e,t){return{type:nt,form:{playerName:e,password:t}}}var it="gamesList/GAMES_BY_CREATOR_LISTED",ot="gamesList/GAMES_BY_PLAYER_LISTED",st="gamesList/GAMES_LIST_REPLACED",ut="gamesList/MY_CREATED_GAMES_LISTED",lt="gamesList/MY_PLAYING_GAMES_LISTED";function dt(e){return{type:it,form:{playerName:e}}}function jt(){return{type:ot}}function pt(){return{type:ut}}function bt(){return{type:lt}}function ht(e){return{type:st,gamesList:e}}function ft(){var e=d(),t=j(dt,e);return Object(O.jsxs)("div",{children:[Object(O.jsxs)("label",{children:["Friend name:",Object(O.jsx)("br",{}),Object(O.jsx)("input",{ref:e})]}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{onClick:t,children:"Friend games"})]})}function xt(e){return e.screenPost}var Ot=n(82),mt=n.n(Ot);var yt={addNextPlayer:function(){var e=d(),t=d(),n=j(B,e,t),c=u(),a=Object(r.useCallback)((function(){return c(x())}),[c]);return Object(O.jsxs)("main",{children:[Object(O.jsx)("h1",{children:"Add next player!"}),Object(O.jsxs)("label",{children:["Next player name:",Object(O.jsx)("br",{}),Object(O.jsx)("input",{ref:e})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("label",{children:["Next player password:",Object(O.jsx)("br",{}),Object(O.jsx)("input",{ref:t,type:"password"})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{onClick:n,children:"Join Next"})," ",Object(O.jsx)("button",{onClick:a,children:"Cancel"})]})},blog:function(){var e=l(te);return Object(O.jsxs)("main",{children:[Object(O.jsxs)("h1",{children:["Blog! ",Object(O.jsxs)("small",{style:{fontSize:"0.7rem"},children:["(#",e.length,")"]})]}),Object(O.jsx)("ul",{children:e.map((function(e){return Object(O.jsx)(ae,{post:e},e.id)}))})]})},createGame:function(){var e=d(),t=j(K,e),n=u(),c=Object(r.useCallback)((function(){return n(x())}),[n]);return Object(O.jsxs)("main",{children:[Object(O.jsx)("h1",{children:"Create game!"}),Object(O.jsxs)("label",{children:["Game name:",Object(O.jsx)("br",{}),Object(O.jsx)("input",{ref:e})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{onClick:t,children:"Create game"})," ",Object(O.jsx)("button",{onClick:c,children:"Cancel"})]})},entity:function(){var e=l(oe),t=l((function(t){return function(e,t){var n,r=t.entityId;return null===(n=ue(e))||void 0===n?void 0:n.entities[r]}(t,{entityId:e})}));return t?Object(O.jsxs)("div",{children:[Object(O.jsx)(be,{}),Object(O.jsx)(fe,{}),Object(O.jsxs)("main",{children:[Object(O.jsxs)("h1",{children:[t.name," ",t.type," of ",t.owner]}),Object(O.jsx)(ge,{entity:t})]})]}):null},game:function(){var e=Object(r.useMemo)(le,[]),t=l(e);return console.log("entities"),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(be,{color:"white"}),Object(O.jsx)(fe,{}),Object(O.jsxs)("main",{children:[Object(O.jsx)("h1",{children:"Catan"}),Object(O.jsx)(qe.a,{children:Object(O.jsxs)(Ke.a,{children:[Object(O.jsx)(Qe.a,{style:{backgroundColor:"#85C1E9",borderRadius:20},children:Object(O.jsxs)("div",{style:{margin:10},children:[Object(O.jsx)("h4",{children:"Inventory:"}),Object(O.jsx)(ke,{entities:t})]})}),Object(O.jsx)(Qe.a,{style:{backgroundColor:"#FAD7A0",borderRadius:20},md:{offset:1},children:Object(O.jsxs)("div",{style:{margin:10},children:[Object(O.jsx)(Xe,{entities:t}),Object(O.jsx)($e,{entities:t}),Object(O.jsx)("h4",{children:"Cost Table:"}),Object(O.jsx)("p",{children:"\u2003Road: \ud83e\uddf1\ud83e\udeb5"}),Object(O.jsx)("p",{children:"\u2003Town: \ud83e\uddf1\ud83e\udeb5\ud83d\udc11\ud83c\udf3e"}),Object(O.jsx)("p",{children:"\u2003City: \ud83e\udea8\ud83e\udea8\ud83e\udea8\ud83c\udf3e\ud83c\udf3e"})]})})]})}),Object(O.jsx)(ze,{entities:t})]})]})},gamesList:function(){var e=l(Ve),t=u(),n=Object(r.useCallback)((function(){return t(x())}),[t]);return Object(O.jsxs)("main",{children:[Object(O.jsx)("h1",{children:"Games List!"}),Object(O.jsx)("ul",{children:null===e||void 0===e?void 0:e.map((function(e){return Object(O.jsx)(Ze,{item:e},e.gameName+"#"+e.creatorName)}))}),Object(O.jsx)("button",{onClick:n,children:"Cancel"})]})},login:function(){var e=d(),t=d(),n=j(rt,e,t);return Object(O.jsxs)("main",{children:[Object(O.jsx)("h1",{children:"Log In!"}),Object(O.jsxs)("label",{children:["Player name:",Object(O.jsx)("br",{}),Object(O.jsx)("input",{ref:e})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("label",{children:["Password:",Object(O.jsx)("br",{}),Object(O.jsx)("input",{ref:t,type:"password"})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{onClick:n,children:"Login"})]})},player:function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)(be,{}),Object(O.jsxs)("main",{children:[Object(O.jsx)("h1",{children:"Welcome player!"}),Object(O.jsx)(m,{name:"createGame",children:"Create game"}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),"List games:",Object(O.jsx)("br",{}),Object(O.jsx)(y,{createAction:bt,children:"- My playing games \xbb"}),Object(O.jsx)("br",{}),Object(O.jsx)(y,{createAction:pt,children:"- My created games \xbb"}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)(ft,{})]})]})},post:function(){var e=l(xt),t=e.body.split("\n").filter((function(e){return!e.includes("SNAPSHOT")})).join("\n");return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"content",children:Object(O.jsx)(y,{createAction:x,children:"\xab Back to blog"})}),Object(O.jsxs)("main",{children:[Object(O.jsxs)("h1",{children:[e.title,"!"]}),Object(O.jsx)(mt.a,{children:t})]})]})},signup:function(){var e=d(),t=d(),n=j(at,e,t);return Object(O.jsxs)("main",{children:[Object(O.jsx)("h1",{children:"Sign up!"}),Object(O.jsxs)("label",{children:["Player name:",Object(O.jsx)("br",{}),Object(O.jsx)("input",{ref:e})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("label",{children:["Password:",Object(O.jsx)("br",{}),Object(O.jsx)("input",{ref:t,type:"password",autoComplete:"current-password"})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{onClick:n,children:"Signup"})]})},welcome:function(){return Object(O.jsxs)("main",{children:[Object(O.jsx)("h1",{children:"Welcome to the game!"}),Object(O.jsx)(m,{name:"signup",children:"Sign up"})]})}};function vt(){var e=l(ie),t=yt[e];return t?Object(O.jsx)(t,{}):Object(O.jsxs)(O.Fragment,{children:['`Screen "$',e,'" not found.`']})}function gt(e){var t=e.store;return Object(O.jsx)(o.a,{store:t,children:Object(O.jsxs)("div",{children:[Object(O.jsx)(A,{}),Object(O.jsx)(_,{}),Object(O.jsx)(vt,{})]})})}var wt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,211)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},kt=n(22),Ct=n(83);var Et={componentOwn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type,e},componentDice:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type,e},componentTrade:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type,e}},Nt="widgetLoading/STARTED",St="widgetLoading/FINISHED";var Pt=[{name:"welcome"}];var Lt={widgetLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Nt:return e+1;case St:return e-1;default:return e}},widgetMessage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return t.message;case R:return null;default:return e}},widgetScreenStack:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return[].concat(Object(s.a)(e),[t.screen]);case h:return e.slice(0,e.length-1);default:return e}}},Tt=[];var At={screenBlog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return t.blog;default:return e}},screenPost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return t.post;default:return e}}};var Dt={currentPlayerIndex:0,players:[]};function Rt(e,t){return Object(w.a)(Object(w.a)({},e),{},{currentPlayerIndex:(e.currentPlayerIndex+1)%e.players.length})}function Ft(e,t){var n=e.players,r=Object(s.a)(n);return n.some((function(e){return e.playerName===t.player.playerName}))||r.push(t.player),Object(w.a)(Object(w.a)({},e),{},{players:r,currentPlayerIndex:r.length-1})}var It=Object(kt.combineReducers)(Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)({},Et),Lt),At),{},{game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return t.game;default:return e}},gamesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case st:return t.gamesList;default:return e}},multiplayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Rt(e,t);case M:return Ft(e,t);default:return e}},player:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case tt:return t.player;default:return e}}})),_t=n(84),Gt=n(2),Wt=n.n(Gt),Mt=n(3);function Bt(e,t,n){return Yt.apply(this,arguments)}function Yt(){return(Yt=Object(Mt.a)(Wt.a.mark((function e(t,n,r){var c,a,i;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(w.a)(Object(w.a)({},n),{},{body:JSON.stringify(null===n||void 0===n?void 0:n.body),headers:{"Content-Type":"application/json"}}),e.next=3,fetch(t,c);case 3:return a=e.sent,e.next=6,a.json();case 6:return"string"===typeof(i=e.sent).message&&r(F(i.message,i.isError)),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ht(){return{type:Nt}}function Jt(){return{type:St}}function Ut(e,t,n){return zt.apply(this,arguments)}function zt(){return(zt=Object(Mt.a)(Wt.a.mark((function e(t,n,r){var c,a,i,o=arguments;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=o.length>3&&void 0!==o[3]?o[3]:function(){},t.dispatch(Ht()),a=je(t.getState()),e.next=5,Bt("".concat(n,"?token=").concat(a),{method:"POST",body:r},t.dispatch);case 5:return i=e.sent,t.dispatch(V(i)),e.next=9,c(i);case 9:t.dispatch(Jt());case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xt(e,t,n){return $t.apply(this,arguments)}function $t(){return($t=Object(Mt.a)(Wt.a.mark((function e(t,n,r){return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ut(t,"/api/v1/resources/".concat(n.entityId,"/").concat(r),n.form);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qt=[function(e){return function(t){return function(){var n=Object(Mt.a)(Wt.a.mark((function n(r){return Wt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t(r),console.log("reach middleware + action: "+r.type),r.type!==Ae){n.next=5;break}return n.next=5,Ut(e,"/api/v1/owned/".concat(r.entityId,"/").concat(r.playerName,"/own"),{});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},function(e){return function(t){return function(){var n=Object(Mt.a)(Wt.a.mark((function n(r){return Wt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t(r),console.log("reach middleware + action: "+r.type),r.type!==xe){n.next=5;break}return n.next=5,Ut(e,"/api/v1/dice/".concat(r.entityId,"/").concat(r.playerName,"/roll"),{});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},function(e){return function(t){return function(){var n=Object(Mt.a)(Wt.a.mark((function n(r){return Wt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t(r),r.type!==me){n.next=4;break}return n.next=4,Xt(e,r,"trade");case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}];function Kt(e){return Qt.apply(this,arguments)}function Qt(){return(Qt=Object(Mt.a)(Wt.a.mark((function e(t){var n,r;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch(Ht()),e.next=3,fetch("/api/v1/posts");case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,t.dispatch(T(r.posts)),t.dispatch(f("blog")),t.dispatch(Jt());case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vt(e,t){return Zt.apply(this,arguments)}function Zt(){return(Zt=Object(Mt.a)(Wt.a.mark((function e(t,n){var r,c;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch(Ht()),e.next=3,fetch("/api/v1/posts/"+n.postId);case 3:return r=e.sent,e.next=6,r.json();case 6:c=e.sent,t.dispatch(ce(c)),t.dispatch(f("post")),t.dispatch(Jt());case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var en=[function(e){return function(t){return function(){var n=Object(Mt.a)(Wt.a.mark((function n(r){return Wt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t(r),r.type!==S){n.next=4;break}return n.next=4,Kt(e);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},function(e){return function(t){return function(){var n=Object(Mt.a)(Wt.a.mark((function n(r){return Wt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t(r),r.type!==ne){n.next=4;break}return n.next=4,Vt(e,r);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}];function tn(e,t){return nn.apply(this,arguments)}function nn(){return(nn=Object(Mt.a)(Wt.a.mark((function e(t,n){var r;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch(Ht()),r=je(t.getState()),e.next=4,Bt("/api/v1/games",{method:"POST",body:Object(w.a)(Object(w.a)({},n.form),{},{token:r})},t.dispatch);case 4:e.sent.isError||t.dispatch(f("player")),t.dispatch(Jt());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rn(e,t){return cn.apply(this,arguments)}function cn(){return(cn=Object(Mt.a)(Wt.a.mark((function e(t,n){var r;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch(Ht()),r=je(t.getState()),e.next=4,Bt("/api/v1/games/join",{method:"POST",body:Object(w.a)(Object(w.a)({},n.form),{},{token:r})},t.dispatch);case 4:e.sent.isError||t.dispatch(f("player")),t.dispatch(Jt());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function an(e,t){return on.apply(this,arguments)}function on(){return(on=Object(Mt.a)(Wt.a.mark((function e(t,n){var r,c;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch(Ht()),r=je(t.getState()),e.next=4,Bt("/api/v1/games/".concat(n.form.gameName,"/by/").concat(n.form.creatorName,"?token=").concat(r),{method:"GET"},t.dispatch);case 4:(c=e.sent).isError||(t.dispatch(V(c)),t.dispatch(f("game"))),t.dispatch(Jt());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sn(e,t){return un.apply(this,arguments)}function un(){return(un=Object(Mt.a)(Wt.a.mark((function e(t,n){var r,c,a,i,o;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ue(t.getState()),c=r.gameName,a=r.creatorName,t.dispatch(Ht()),i=je(t.getState()),e.next=5,Bt("/api/v1/games/".concat(c,"/by/").concat(a,"?token=").concat(i),{method:"GET"},t.dispatch);case 5:o=e.sent,t.dispatch(V(o)),t.dispatch(Jt());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ln(e,t){return dn.apply(this,arguments)}function dn(){return(dn=Object(Mt.a)(Wt.a.mark((function e(t,n){var r;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.game,t.dispatch(ct(r.playerName,r.token));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jn(e){return pn.apply(this,arguments)}function pn(){return(pn=Object(Mt.a)(Wt.a.mark((function e(t){var n,r,c;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ue(t.getState()),r=n.gameName,c=n.creatorName,e.next=3,Ut(t,"/api/v1/games/".concat(r,"/by/").concat(c,"/endRound"),{},(function(){return t.dispatch(f("game"))}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bn(e){return hn.apply(this,arguments)}function hn(){return(hn=Object(Mt.a)(Wt.a.mark((function e(t){var n;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=pe(t.getState()),t.dispatch(dt(n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fn(e){return xn.apply(this,arguments)}function xn(){return(xn=Object(Mt.a)(Wt.a.mark((function e(t){return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.dispatch(jt());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function On(e,t){return mn.apply(this,arguments)}function mn(){return(mn=Object(Mt.a)(Wt.a.mark((function e(t,n){var r;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch(Ht()),e.next=3,Bt("/api/v1/games/byPlayer",{method:"POST",body:n.form},t.dispatch);case 3:(r=e.sent).isError||(t.dispatch(ht(r.games)),t.dispatch(f("gamesList"))),t.dispatch(Jt());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yn(e,t){return vn.apply(this,arguments)}function vn(){return(vn=Object(Mt.a)(Wt.a.mark((function e(t,n){var r,c;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch(Ht()),r=je(t.getState()),e.next=4,Bt("/api/v1/games/byJoined",{method:"POST",body:{token:r}},t.dispatch);case 4:c=e.sent,t.dispatch(ht(c.games)),t.dispatch(f("gamesList")),t.dispatch(Jt());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gn(e){var t=e.multiplayer;return t.players[t.currentPlayerIndex]}function wn(e,t){return kn.apply(this,arguments)}function kn(){return(kn=Object(Mt.a)(Wt.a.mark((function e(t,n){var r,c,a,i,o,s;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch(Ht()),r=t.getState(),c=je(r),a=ue(r),i=a.gameName,o=a.creatorName,e.next=6,Bt("/api/v1/games/joinNext?token=".concat(c),{method:"POST",body:Object(w.a)(Object(w.a)({},n.form),{},{gameName:i,creatorName:o})},t.dispatch);case 6:(s=e.sent).isError||(t.dispatch(H(o,c)),t.dispatch(H(s.playerName,s.token)),t.dispatch(V(s)),t.dispatch(f("game"))),t.dispatch(Jt());case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cn(e,t){return En.apply(this,arguments)}function En(){return(En=Object(Mt.a)(Wt.a.mark((function e(t,n){var r,c,a,i,o,s,u;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.getState(),c=gn(r)){e.next=5;break}return t.dispatch(Z()),e.abrupt("return");case 5:a=c.playerName,i=c.token,o=ue(r),s=o.gameName,u=o.creatorName,t.dispatch(ct(a,i)),t.dispatch(Q(s,u));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nn(e,t){return Sn.apply(this,arguments)}function Sn(){return(Sn=Object(Mt.a)(Wt.a.mark((function e(t,n){var r;return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch(Ht()),e.next=3,Bt("/api/v1/players/login",{method:"POST",body:n.form},t.dispatch);case 3:(r=e.sent).isError||(t.dispatch(f("player")),t.dispatch(ct(r.playerName,r.token))),t.dispatch(Jt());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pn(e,t){return Ln.apply(this,arguments)}function Ln(){return(Ln=Object(Mt.a)(Wt.a.mark((function e(t,n){return Wt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch(Ht()),e.next=3,Bt("/api/v1/players",{method:"POST",body:n.form},t.dispatch);case 3:e.sent.isError||t.dispatch(f("welcome")),t.dispatch(Jt());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Tn=[_t.a].concat(Object(s.a)(qt),Object(s.a)(en),[function(e){return function(t){return function(){var n=Object(Mt.a)(Wt.a.mark((function n(r){return Wt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t(r),r.type!==J){n.next=4;break}return n.next=4,tn(e,r);case 4:if(r.type!==U){n.next=7;break}return n.next=7,rn(e,r);case 7:if(r.type!==z){n.next=10;break}return n.next=10,an(e,r);case 10:if(r.type!==X){n.next=13;break}return n.next=13,sn(e,r);case 13:if(r.type!==$){n.next=16;break}return n.next=16,ln(e,r);case 16:if(r.type!==q){n.next=19;break}return n.next=19,jn(e);case 19:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},function(e){return function(t){return function(){var n=Object(Mt.a)(Wt.a.mark((function n(r){return Wt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t(r),r.type!==it){n.next=4;break}return n.next=4,On(e,r);case 4:if(r.type!==ot){n.next=7;break}return n.next=7,yn(e,r);case 7:if(r.type!==ut){n.next=10;break}return n.next=10,bn(e);case 10:if(r.type!==lt){n.next=13;break}return n.next=13,fn(e);case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},function(e){return function(t){return function(){var n=Object(Mt.a)(Wt.a.mark((function n(r){return Wt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t(r),r.type!==G){n.next=4;break}return n.next=4,wn(e,r);case 4:if(r.type!==W){n.next=7;break}return n.next=7,Cn(e,r);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}},function(e){return function(t){return function(){var n=Object(Mt.a)(Wt.a.mark((function n(r){return Wt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t(r),r.type!==et){n.next=4;break}return n.next=4,Nn(e,r);case 4:if(r.type!==nt){n.next=7;break}return n.next=7,Pn(e,r);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}]),An=new WeakSet;function Dn(e){return An.has(e)||(Object.keys(e).forEach((function(t){var n=e[t];n&&"object"===typeof n&&(e[t]=Dn(n))})),Object.freeze(e),An.add(e)),e}function Rn(e){return function(t,n){return Dn(e(t,n))}}n(205);var Fn=Object(kt.createStore)(Rn(It),Object(Ct.composeWithDevTools)(kt.applyMiddleware.apply(void 0,Object(s.a)(Tn))));i.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(gt,{store:Fn})}),document.getElementById("root")),wt()},93:function(e,t,n){}},[[206,1,2]]]);
//# sourceMappingURL=main.4e441097.chunk.js.map