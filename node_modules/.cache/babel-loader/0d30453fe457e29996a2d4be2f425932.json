{"ast":null,"code":"import { gamePost } from \"www/store/game/gamePost\";\nimport { TRADE } from \"./types\";\nexport const componentTradeMiddleware = store => next => async action => {\n  next(action);\n  console.log(\"form: \" + action.form.getResources);\n\n  if (action.type === TRADE) {\n    await orderTrade(store, action, \"trade\");\n  }\n};\n\nasync function orderTrade(store, action, order) {\n  await gamePost(store, `/api/v1/resources/${action.entityId}/${action.playerName}/${order}`, action.form);\n}","map":{"version":3,"sources":["/Users/jeff/Desktop/TFG/src/www/components/tradeComponent/middleware.ts"],"names":["gamePost","TRADE","componentTradeMiddleware","store","next","action","console","log","form","getResources","type","orderTrade","order","entityId","playerName"],"mappings":"AAEA,SAASA,QAAT,QAAyB,yBAAzB;AACA,SAAoCC,KAApC,QAA8D,SAA9D;AAEA,OAAO,MAAMC,wBAAkD,GAC5DC,KAAD,IAAiBC,IAAD,IAAU,MAAOC,MAAP,IAA6C;AACrED,EAAAA,IAAI,CAACC,MAAD,CAAJ;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,WAASF,MAAM,CAACG,IAAP,CAAYC,YAAjC;;AACA,MAAIJ,MAAM,CAACK,IAAP,KAAgBT,KAApB,EAA2B;AACzB,UAAMU,UAAU,CAACR,KAAD,EAAQE,MAAR,EAAgB,OAAhB,CAAhB;AACD;AACF,CAPI;;AASL,eAAeM,UAAf,CACER,KADF,EAEEE,MAFF,EAGEO,KAHF,EAIE;AACA,QAAMZ,QAAQ,CACZG,KADY,EAEX,qBAAoBE,MAAM,CAACQ,QAAS,IAAGR,MAAM,CAACS,UAAW,IAAGF,KAAM,EAFvD,EAGZP,MAAM,CAACG,IAHK,CAAd;AAKD","sourcesContent":["import { Middleware } from \"redux\";\nimport { AppState } from \"www/store\";\nimport { gamePost } from \"www/store/game/gamePost\";\nimport { ComponentTradeActionTypes, TRADE, TradeAction } from \"./types\";\n\nexport const componentTradeMiddleware: Middleware<{}, AppState> =\n  (store: any) => (next) => async (action: ComponentTradeActionTypes) => {\n    next(action);\n    console.log(\"form: \"+action.form.getResources);\n    if (action.type === TRADE) {\n      await orderTrade(store, action, \"trade\");\n    }\n  };\n\n  async function orderTrade(\n    store: any,\n    action: TradeAction,\n    order: string\n  ) {\n    await gamePost(\n      store,\n      `/api/v1/resources/${action.entityId}/${action.playerName}/${order}`,\n      action.form\n    );\n  }\n"]},"metadata":{},"sourceType":"module"}