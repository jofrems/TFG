{"ast":null,"code":"import { gamePost } from \"www/store/game/gamePost\";\nimport { LOAD_ORDERED, UNLOAD_ORDERED } from \"./types\";\nexport const componentLoadableMiddleware = store => next => async action => {\n  next(action);\n  if (action.type === LOAD_ORDERED) await orderLoadable(store, action, \"load\");\n  if (action.type === UNLOAD_ORDERED) await orderLoadable(store, action, \"unload\");\n};\n\nasync function orderLoadable(store, action, order) {\n  await gamePost(store, `/api/v1/loadables/${action.entityId}/${order}`, action.form);\n}","map":{"version":3,"sources":["/Users/jeff/Desktop/TFG/src/www/components/LoadableComponent/middleware.ts"],"names":["gamePost","LOAD_ORDERED","UNLOAD_ORDERED","componentLoadableMiddleware","store","next","action","type","orderLoadable","order","entityId","form"],"mappings":"AAEA,SAASA,QAAT,QAAyB,yBAAzB;AACA,SAGEC,YAHF,EAKEC,cALF,QAMO,SANP;AAQA,OAAO,MAAMC,2BAAqD,GAC/DC,KAAD,IAAiBC,IAAD,IAAU,MAAOC,MAAP,IAAgD;AACxED,EAAAA,IAAI,CAACC,MAAD,CAAJ;AAEA,MAAIA,MAAM,CAACC,IAAP,KAAgBN,YAApB,EACE,MAAMO,aAAa,CAACJ,KAAD,EAAQE,MAAR,EAAgB,MAAhB,CAAnB;AAEF,MAAIA,MAAM,CAACC,IAAP,KAAgBL,cAApB,EACE,MAAMM,aAAa,CAACJ,KAAD,EAAQE,MAAR,EAAgB,QAAhB,CAAnB;AACH,CATI;;AAWP,eAAeE,aAAf,CACEJ,KADF,EAEEE,MAFF,EAGEG,KAHF,EAIE;AACA,QAAMT,QAAQ,CACZI,KADY,EAEX,qBAAoBE,MAAM,CAACI,QAAS,IAAGD,KAAM,EAFlC,EAGZH,MAAM,CAACK,IAHK,CAAd;AAKD","sourcesContent":["import { Middleware } from \"redux\";\nimport { AppState } from \"www/store\";\nimport { gamePost } from \"www/store/game/gamePost\";\nimport {\n  ComponentLoadableActionTypes,\n  LoadOrderedAction,\n  LOAD_ORDERED,\n  UnloadOrderedAction,\n  UNLOAD_ORDERED,\n} from \"./types\";\n\nexport const componentLoadableMiddleware: Middleware<{}, AppState> =\n  (store: any) => (next) => async (action: ComponentLoadableActionTypes) => {\n    next(action);\n\n    if (action.type === LOAD_ORDERED)\n      await orderLoadable(store, action, \"load\");\n\n    if (action.type === UNLOAD_ORDERED)\n      await orderLoadable(store, action, \"unload\");\n  };\n\nasync function orderLoadable(\n  store: any,\n  action: LoadOrderedAction | UnloadOrderedAction,\n  order: string\n) {\n  await gamePost(\n    store,\n    `/api/v1/loadables/${action.entityId}/${order}`,\n    action.form\n  );\n}\n"]},"metadata":{},"sourceType":"module"}