{"ast":null,"code":"const frozens = new WeakSet();\n\nfunction freezeState(state) {\n  if (!frozens.has(state)) {\n    Object.keys(state).forEach(k => {\n      const val = state[k];\n\n      if (val && typeof val === \"object\") {\n        state[k] = freezeState(val);\n      }\n    });\n    Object.freeze(state);\n    frozens.add(state);\n  }\n\n  return state;\n}\n\nexport function freezeReducer(reduce) {\n  return function (state, action) {\n    const nextState = reduce(state, action);\n    return freezeState(nextState);\n  };\n}","map":{"version":3,"sources":["/Users/jeff/Desktop/TFG/src/www/store/freezeReducer.ts"],"names":["frozens","WeakSet","freezeState","state","has","Object","keys","forEach","k","val","freeze","add","freezeReducer","reduce","action","nextState"],"mappings":"AAAA,MAAMA,OAAO,GAAG,IAAIC,OAAJ,EAAhB;;AAEA,SAASC,WAAT,CAAqBC,KAArB,EAAiC;AAC/B,MAAI,CAACH,OAAO,CAACI,GAAR,CAAYD,KAAZ,CAAL,EAAyB;AACvBE,IAAAA,MAAM,CAACC,IAAP,CAAYH,KAAZ,EAAmBI,OAAnB,CAA4BC,CAAD,IAAO;AAChC,YAAMC,GAAG,GAAGN,KAAK,CAACK,CAAD,CAAjB;;AACA,UAAIC,GAAG,IAAI,OAAOA,GAAP,KAAe,QAA1B,EAAoC;AAClCN,QAAAA,KAAK,CAACK,CAAD,CAAL,GAAWN,WAAW,CAACO,GAAD,CAAtB;AACD;AACF,KALD;AAOAJ,IAAAA,MAAM,CAACK,MAAP,CAAcP,KAAd;AACAH,IAAAA,OAAO,CAACW,GAAR,CAAYR,KAAZ;AACD;;AACD,SAAOA,KAAP;AACD;;AAED,OAAO,SAASS,aAAT,CAAuBC,MAAvB,EAAyC;AAC9C,SAAO,UAAUV,KAAV,EAAsBW,MAAtB,EAAmC;AACxC,UAAMC,SAAS,GAAGF,MAAM,CAACV,KAAD,EAAQW,MAAR,CAAxB;AACA,WAAOZ,WAAW,CAACa,SAAD,CAAlB;AACD,GAHD;AAID","sourcesContent":["const frozens = new WeakSet();\n\nfunction freezeState(state: any) {\n  if (!frozens.has(state)) {\n    Object.keys(state).forEach((k) => {\n      const val = state[k];\n      if (val && typeof val === \"object\") {\n        state[k] = freezeState(val);\n      }\n    });\n\n    Object.freeze(state);\n    frozens.add(state);\n  }\n  return state;\n}\n\nexport function freezeReducer(reduce: any): any {\n  return function (state: any, action: any) {\n    const nextState = reduce(state, action);\n    return freezeState(nextState);\n  };\n}\n"]},"metadata":{},"sourceType":"module"}